FROM {{BASE_IMAGE}}

# התקנת חבילות בסיסיות (מערכת הפעלה)
RUN apt-get update && apt-get install -y {{BASE_PACKAGES}}

# התקנת חבילות בהתאם לשפה
RUN case "{{BASE_IMAGE}}" in \
  python*) pip install {{PACKAGES}} ;; \
  node*) npm install -g {{PACKAGES}} ;; \
  openjdk*) \
    curl -fsSL https://downloads.apache.org/maven/maven-3/3.9.4/binaries/apache-maven-3.9.4-bin.tar.gz | tar -xz -C /usr/local && \
    ln -s /usr/local/apache-maven-3.9.4/bin/mvn /usr/bin/mvn ;; \
esac

CMD ["bash"]
